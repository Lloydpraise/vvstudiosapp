/* Simple theme overrides: dark is default; light inverts common dark backgrounds and white text.
   This intentionally only swaps dark <-> white for backgrounds and primary text colors.
   Accent colors (buttons, badges, colored icons) are left unchanged.
*/

:root {
    --bg-default: #0f1115;
    --card-default: #1a1d23;
    --sidebar-default: #14161a;
    --border-default: #2b2f3a;
    --text-default: #ffffff;
}


/* Light theme: invert dark backgrounds to a soft off-white, and white texts to a dark charcoal. */
[data-theme="light"] body,
[data-theme="light"] .bg-\[\#0f1115\],
[data-theme="light"] .bg-\[\#1a1d23\],
[data-theme="light"] .bg-bg-card,
[data-theme="light"] .bg-sidebar,
[data-theme="light"] .bg-\[\#14161a\],
[data-theme="light"] .bg-\[\#2b2f3a\] {
    background-color: #f3f4f6 !important; /* soft gray, less bright than pure white */
    color: #0f1720 !important; /* slightly lighter than previous black */
}

/* Convert white-ish text to readable shades on light theme.
   Keep true `text-white` as page body/dense text dark, but preserve
   lighter utility variants as neutral grays so "unselected" UI items
   remain visually muted (not pure black). */
[data-theme="light"] .text-white { color: #0f1720 !important; }
[data-theme="light"] .text-white\/80 { color: #1f2937 !important; }
[data-theme="light"] .text-white\/70 { color: #334155 !important; }
[data-theme="light"] .text-white\/60 { color: #475569 !important; }
[data-theme="light"] .text-white\/50 { color: #6b7280 !important; }
[data-theme="light"] .text-white\/40 { color: #6b7280 !important; }
[data-theme="light"] .text-white\/30 { color: #374151 !important; }

/* Placeholder and helper text: ensure guidance is visible on light backgrounds */
[data-theme="light"] input::placeholder,
[data-theme="light"] textarea::placeholder,
[data-theme="light"] select::placeholder,
[data-theme="light"] ::-webkit-input-placeholder,
[data-theme="light"] ::-moz-placeholder {
    color: rgba(15,23,32,0.45) !important;
    opacity: 1 !important;
}

/* Avoid white-on-white: ensure elements inside white panels don't keep white text */
[data-theme="light"] .bg-white .text-white,
[data-theme="light"] .bg-\[\#ffffff\] .text-white {
    color: #0f1720 !important;
}

/* CRM: contact details button should be white text on grey background in light theme */
[data-theme="light"] .contact-details-btn,
[data-theme="light"] .contact-row .details-btn,
[data-theme="light"] .btn-details,
[data-theme="light"] #contact-details-modal .details-btn {
    background-color: #6b7280 !important;
    color: #ffffff !important;
    border-color: transparent !important;
}

/* Ensure accent buttons (green/orange/blue/purple) keep white text for contrast */
[data-theme="light"] .btn-primary,
[data-theme="light"] .btn-create,
[data-theme="light"] .btn-service,
[data-theme="light"] .bg-green-500,
[data-theme="light"] .bg-green-600,
[data-theme="light"] .bg-orange-500,
[data-theme="light"] .bg-blue-600,
[data-theme="light"] .bg-main-purple {
    color: #ffffff !important;
}

/* Content Creation: make folder cards lighter on light theme */
[data-theme="light"] .folder-card-container .folder-file {
    background-image: none !important;
    background-color: #f8fafc !important;
    border: 1px solid #e6e9ee !important;
    box-shadow: none !important;
    color: #0f1720 !important;
}
[data-theme="light"] .folder-card-container .folder-front {
    background: #ffffff !important;
    background-image: none !important;
    border: 1px solid #e6e9ee !important;
    box-shadow: none !important;
    color: #0f1720 !important;
}

/* Ensure the decorative pseudo element is light too */
[data-theme="light"] .folder-front::before {
    background: #ffffff !important;
    display: none !important;
}

/* Order button should keep its accent background but readable on light */
[data-theme="light"] .card-order-btn { color: #ffffff !important; border-color: transparent !important; }

/* Loading overlays and output areas should be readable */
/* Proper dimming for light theme modals */
[data-theme="light"] .modal-backdrop {
    background-color: rgba(0, 0, 0, 0.5) !important;
    backdrop-filter: blur(4px);
    z-index: 60; /* Ensure it sits above other content */
}

/* Keep loading overlay subtle if preferred, or match the backdrop above */
[data-theme="light"] .loading-overlay,
[data-theme="light"] .loading-screen,
[data-theme="light"] #loadingText,
[data-theme="light"] .output-section {
    background-color: rgba(255, 255, 255, 0.95) !important;
    color: #0f1720 !important;
}

/* AI copywriter: ensure unselected items remain visibly muted (light gray) */
[data-theme="light"] .copywriter-menu .menu-item:not(.selected),
[data-theme="light"] .copywriter-list .list-item:not(.selected) {
    color: #6b7280 !important;
}

/* Small adjustments: ensure inputs/selects inside light theme are readable */
[data-theme="light"] .theme-input,
[data-theme="light"] .input-dark {
    background-color: #ffffff !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
}

/* Make sure any svg/icon inheriting text color is visible */
[data-theme="light"] svg, [data-theme="light"] .fa-solid { color: inherit !important; }

/* Copywriter specific: make category cards light and unselected state muted */
[data-theme="light"] .category-card {
    background-color: #f8fafc !important;
    border: 1px solid #e6e9ee !important;
    color: #0f1720 !important;
}
[data-theme="light"] .category-card i { color: #6b7280 !important; }
[data-theme="light"] .category-card:not(.active) .text-sm { color: #374151 !important; }
[data-theme="light"] .category-card.active { background-color: rgba(124,58,237,0.08) !important; border-color: var(--primary-color) !important; color: var(--primary-color) !important; }

/* AI Output area: ensure dynamic output and loading states are readable on light theme */
[data-theme="light"] #dynamic-output { background-color: #ffffff !important; color: #0f1720 !important; }
[data-theme="light"] #loading-state { color: #0f1720 !important; background-color: transparent !important; }
[data-theme="light"] #empty-state { color: #6b7280 !important; background-color: transparent !important; }
[data-theme="light"] #result-state .p-4, [data-theme="light"] #result-state .border-t { background-color: #f9fafb !important; color: #0f1720 !important; }

/* Map faint white utilities used in copywriter to readable grays */
[data-theme="light"] .text-white\/30 { color: #9ca3af !important; }
[data-theme="light"] .text-white\/40 { color: #6b7280 !important; }

/* Borders that are dark become soft gray in light theme */
[data-theme="light"] .border-\[\#2b2f3a\],
[data-theme="light"] .border-border-dark {
    border-color: #d1d5db !important;
}

/* Tooltips and dropdowns (dark surfaces) should become off-white in light theme */
[data-theme="light"] .tooltip,
[data-theme="light"] #profile-dropdown,
[data-theme="light"] .modal-backdrop,
[data-theme="light"] .card-animate {
    background-color: #f9fafb !important;
    color: #0f1720 !important;
}

/* Ensure subtle elements that explicitly expect white text get corrected */
[data-theme="light"] .text-white\/60 { opacity: 0.95; }

/* Keep accent and colored buttons alone: do not target classes like bg-blue-600, bg-orange-500 etc. */

/* Theme selector button styles and active state */
.theme-toggle-wrapper { display:flex; align-items:center; justify-content:space-between; }
.theme-toggle-buttons { display:flex; gap:6px; }
.theme-toggle-btn { padding:6px 8px; border-radius:8px; font-size:12px; cursor:pointer; border:1px solid transparent; }
.theme-toggle-btn.active { box-shadow: 0 1px 3px rgba(0,0,0,0.06); }

/* In light theme, ensure theme-toggle buttons that may have inline white bg are toned down */
[data-theme="light"] .theme-toggle-btn[data-theme="light"] { background-color: #f3f4f6 !important; color: #0f1720 !important; border-color:#e6e9ee !important; }
[data-theme="light"] .theme-toggle-btn[data-theme="dark"] { background-color: transparent !important; color: #0f1720 !important; border-color: transparent !important; }

/* In light theme, ensure small components with explicit dark backgrounds are readable */
[data-theme="light"] .chart-placeholder { background: linear-gradient(135deg, #f7f8fa 0%, #f3f4f6 100%) !important; border-color: #e6e9ee !important; }

/* Sidebar and navigation adjustments (keep sidebar container white; only links are transparent) */
[data-theme="light"] .unified-sidebar .sidebar-link {
    background-color: transparent !important;
    color: #6b7280 !important; /* inactive items: neutral gray */
}

[data-theme="light"] .unified-sidebar .sidebar-link .tooltip {
    background-color: #f9fafb !important;
    color: #0f1720 !important;
    border: 1px solid #e6e9ee !important;
}

[data-theme="light"] .unified-sidebar .sidebar-link.active {
    color: #0b5fff !important; /* keep active visible — blue-ish accent */
    background-color: rgba(11,95,255,0.12) !important;
    box-shadow: inset 4px 0 0 0 #0b5fff !important;
}

/* Ensure the hide/show transform is respected even when other rules set position/z-index */
[data-theme="light"] .unified-sidebar.-translate-x-full { transform: translateX(-100%); }
/* Allow the page to control visible state via the `.open` class; prefer the page's rule unless overridden intentionally. */
[data-theme="light"] .unified-sidebar.open { transform: translateX(0) !important; }

/* Ecommerce sidebar light theme styles */
[data-theme="light"] .sidebar {
    background-color: #f3f4f6 !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
}

[data-theme="light"] .sidebar .nav-item {
    color: #6b7280 !important;
    background-color: transparent !important;
}

[data-theme="light"] .sidebar .nav-item:hover {
    background-color: rgba(11,95,255,0.06) !important;
}

[data-theme="light"] .sidebar .nav-item.active {
    color: #0b5fff !important;
    background-color: rgba(11,95,255,0.12) !important;
}

/* Ecommerce mobile header light theme */
[data-theme="light"] .sidebar h2 {
    color: #0f1720 !important;
}

/* Header controls and small buttons that use explicit dark BG */
[data-theme="light"] #header-controls > *,
[data-theme="light"] #top-header,
[data-theme="light"] .bg-\[\#1a1d23\] {
    background-color: #f3f4f6 !important;
    color: #0f1720 !important;
}

/* Cards and panels */
[data-theme="light"] .p-6,
[data-theme="light"] .rounded-2xl,
[data-theme="light"] .bg-\[\#1a1d23\],
[data-theme="light"] .bg-bg-card,
[data-theme="light"] .card-animate {
    background-color: #ffffff !important; /* use very light card to contrast slightly with page bg */
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
}

/* Ecommerce / local card overrides: many pages use `card-base` and custom
   utility classes; ensure these are light in light theme so text is visible. */
[data-theme="light"] .card-base,
[data-theme="light"] .task-card,
[data-theme="light"] .offer-type-card,
[data-theme="light"] .search-results-dropdown,
[data-theme="light"] .prod-chip {
    background-color: #ffffff !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
    box-shadow: none !important;
}

/* Qualifier page: make the three dashboard cards and category blocks lighter in light theme */
[data-theme="light"] .dash-card {
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%) !important;
    border: 1px solid #e6e9ee !important;
    color: #0f1720 !important;
    box-shadow: none !important;
}
[data-theme="light"] .dash-card .icon-box {
    background: rgba(15,23,32,0.04) !important;
    color: #0b1220 !important;
}

[data-theme="light"] .cat-block,
[data-theme="light"] .bg-\[\#15171c\] {
    background-color: #f8fafc !important;
    border: 1px solid #e6e9ee !important;
    color: #0f1720 !important;
    box-shadow: none !important;
}
[data-theme="light"] .cat-block.active-block {
    background-color: #ffffff !important;
    border-color: #f97316 !important;
    box-shadow: 0 8px 20px rgba(15,23,32,0.06) !important;
}

/* Weighting panel in create wizard uses a custom bg; ensure it's light in light theme */
[data-theme="light"] #weights-container,
[data-theme="light"] .weights-container {
    background-color: #f8fafc !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
}

/* Section pills and small toggles used in ecommerce need readable text */
[data-theme="light"] .section-pill { background: transparent !important; color: #374151 !important; border-color: #e6e9ee !important; }
[data-theme="light"] .section-pill.active-product { background: var(--primary-color) !important; color: #ffffff !important; border-color: var(--primary-color) !important; }
[data-theme="light"] .section-pill.active-service { background: #0b5fff !important; color: #ffffff !important; border-color: #0b5fff !important; }

/* Inputs, selects and textareas that used dark background */
[data-theme="light"] input,
[data-theme="light"] select,
[data-theme="light"] textarea {
    background-color: #ffffff !important;
    color: #0f1720 !important;
    border: 1px solid #e6e9ee !important;
}

/* Progress containers and subtle UI elements */
[data-theme="light"] .progress-bar-container { background-color: #e9edf2 !important; }
[data-theme="light"] .progress-bar { background-color: #c7d2fe !important; }

/* Tables and list rows */
[data-theme="light"] .contact-row,
[data-theme="light"] .deal-list-row,
[data-theme="light"] .contact-row.selected,
[data-theme="light"] .deal-list-row.selected {
    background-color: transparent !important;
    color: #0f1720 !important;
}

/* Links and text emphasis */
[data-theme="light"] a { color: #0b5fff !important; }
[data-theme="light"] .text-green-400, [data-theme="light"] .text-green-500 { color: #10B981 !important; }

/* Additional text-white intensity mappings used in ecommerce */
[data-theme="light"] .text-white\/90 { color: #0f1720 !important; }
[data-theme="light"] .text-white\/95 { color: #0b1220 !important; }

/* KPI / stat large numbers sometimes use text-3xl + text-white; ensure they are dark on light theme */
[data-theme="light"] .text-3xl.text-white,
[data-theme="light"] .text-3xl.font-bold.text-white,
[data-theme="light"] .stat-card .stat-value,
[data-theme="light"] .card-base .text-3xl { color: #0f1720 !important; }

/* Grey/ghost buttons used across the app (bg-white/3, bg-white/5 etc.) should keep white text for contrast */
[data-theme="light"] button.bg-white\/3,
[data-theme="light"] button.bg-white\/5,
[data-theme="light"] .btn.bg-white\/3,
[data-theme="light"] .btn.bg-white\/5,
[data-theme="light"] .bg-white\/3,
[data-theme="light"] .bg-white\/5 { color: #ffffff !important; }

/* Commonly used complete/grey buttons */
[data-theme="light"] .btn-complete,
[data-theme="light"] .complete-btn,
[data-theme="light"] .btn-muted,
[data-theme="light"] .btn-secondary { color: #ffffff !important; }

/* Ensure icons that inherit text color switch too */
[data-theme="light"] .fa-solid, [data-theme="light"] svg { color: inherit !important; }

/* Keep accent backgrounds like bg-blue-600 alone — but ensure text inside is readable on light */
[data-theme="light"] .bg-blue-600, [data-theme="light"] .bg-green-600, [data-theme="light"] .bg-orange-500 { color: #ffffff !important; }

/* Plans page: billing toggle buttons should have dark text in light theme */
[data-theme="light"] .billing-btn { color: #0f1720 !important; border-color: #e6e9ee !important; }
[data-theme="light"] .billing-btn.active { background-color: #f3f4f6 !important; color: #0f1720 !important; border-color: #d1d5db !important; }
[data-theme="light"] .billing-btn:not(.active) { color: #6b7280 !important; }
[data-theme="light"] .billing-toggle { background-color: #f8fafc !important; border-color: #e6e9ee !important; }

/* Plans page: make green discount badges more vibrant on light theme */
[data-theme="light"] .bg-green-500\/20 { background-color: rgba(34, 197, 94, 0.2) !important; }
[data-theme="light"] .text-green-400 { color: #22c55e !important; }
[data-theme="light"] .text-green-500 { color: #22c55e !important; }
[data-theme="light"] .text-green-600 { color: #16a34a !important; }

/* Delete / destructive buttons: ensure red actions remain visible on light backgrounds */
[data-theme="light"] .text-red-400, [data-theme="light"] .text-red-500, [data-theme="light"] .text-red-600 {
    color: #dc2626 !important;
}
[data-theme="light"] a.text-red-400, [data-theme="light"] button.text-red-400 { color: #dc2626 !important; }

/* Purple buttons: force white text so they stand out on light background */
[data-theme="light"] .bg-main-purple,
[data-theme="light"] .bg-main-purple:hover,
[data-theme="light"] .bg-purple-500,
[data-theme="light"] .bg-purple-600,
[data-theme="light"] .meeting-modal-day.selected,
[data-theme="light"] .transport-btn.selected {
    color: #ffffff !important;
}

/* Projections/simulator page: fix dark headers and warnings on light theme */
[data-theme="light"] #step-results .bg-\[\#1a1d23\] { background-color: #ffffff !important; color: #0f1720 !important; }
[data-theme="light"] #step-results .text-white\/60 { color: #475569 !important; }
[data-theme="light"] #step-results .text-white\/40 { color: #9ca3af !important; }
[data-theme="light"] #step-results .text-white\/30 { color: #d1d5db !important; }
[data-theme="light"] #step-results .border-\[\#2b2f3a\] { border-color: #e6e9ee !important; }

/* Yellow warning boxes on projections should be more prominent */
[data-theme="light"] .bg-yellow-500\/10 { background-color: rgba(217, 119, 6, 0.12) !important; }
[data-theme="light"] .border-yellow-500\/10 { border-color: rgba(217, 119, 6, 0.3) !important; }
[data-theme="light"] .text-yellow-200 { color: #d97706 !important; }

/* Result stat cards on projections page */
[data-theme="light"] #step-results .bg-white\/5 { background-color: #f3f4f6 !important; border-color: #e6e9ee !important; color: #0f1720 !important; }
[data-theme="light"] #step-results .text-blue-400 { color: #3b82f6 !important; }
[data-theme="light"] #step-results .text-orange-400 { color: #f97316 !important; }
[data-theme="light"] #step-results .text-green-400 { color: #22c55e !important; }

/* Theme selector: when in light mode, make the dark option have a dark outline and white text for contrast */
[data-theme="light"] .theme-toggle-btn[data-theme="dark"] {
    border: 1px solid #0f1720 !important;
    color: #ffffff !important;
    background-color: #0f1720 !important; /* make the whole button dark */
}
[data-theme="light"] .theme-toggle-btn[data-theme="dark"].active {
    background-color: #0f1720 !important;
    color: #ffffff !important;
}

/* Sidebar locked items: use the same faint gray used for past calendar days */
[data-theme="light"] .unified-sidebar .sidebar-link.text-white\/30,
[data-theme="light"] .unified-sidebar .sidebar-link .fa-lock,
[data-theme="light"] .unified-sidebar .sidebar-link .text-white\/30 {
    color: #4b5563 !important; /* matches .past-meeting-day calendar badge color */
}

/* Nested contacts & selector area: ensure these switch to light theme */
[data-theme="light"] #add-meeting-nested-contact,
[data-theme="light"] #nested-selector-area,
[data-theme="light"] #nested-search-input,
[data-theme="light"] .nested-contact {
    background-color: #ffffff !important;
    color: #0f1720 !important;
    border: 1px solid #e6e9ee !important;
}

/* Contacts details button: ensure any detail-action buttons use white text for contrast */
[data-theme="light"] .details-btn,
[data-theme="light"] .btn-details,
[data-theme="light"] #contact-details-modal .details-btn {
    color: #ffffff !important;
}



/* Ensure classes using bg-bg-dark are also converted */
[data-theme="light"] .bg-bg-dark,
[data-theme="light"] .bg-\[\#0f1115\],
[data-theme="light"] .bg-\[\#14161a\] {
    background-color: #f3f4f6 !important;
    color: #0f1720 !important;
}

/* Specific: CRM sidebar settings button */
[data-theme="light"] #sidebar-settings-btn {
    background-color: #f3f4f6 !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
}

/* Follow-up modal top row: make header background soft and text dark, leave amount accent */
[data-theme="light"] #follow-up-modal-content .bg-bg-dark,
[data-theme="light"] #follow-up-modal-content .bg-bg-dark * {
    background-color: #f7f8fa !important;
    color: #0f1720 !important;
}
[data-theme="light"] #follow-up-modal-content #modal-amount { color: #b9770e !important; } /* keep faint-gold visible but slightly darker */

/* Ensure modal titles inside modal-backdrop are dark */
[data-theme="light"] .modal-backdrop h2,
[data-theme="light"] .modal-backdrop .text-2xl,
[data-theme="light"] .modal-backdrop .text-3xl { color: #0f1720 !important; }

/* After-sale header */
[data-theme="light"] #after-sale-header {
    background-color: #f3f4f6 !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
}

/* Mobile navigation bar */
[data-theme="light"] #mobile-nav-bar {
    background-color: #f3f4f6 !important;
    border-top: 1px solid #e6e9ee !important;
}
[data-theme="light"] #mobile-nav-bar .mobile-nav-btn { color: #6b7280 !important; }
[data-theme="light"] #mobile-nav-bar .mobile-nav-btn[data-active="true"],
[data-theme="light"] #mobile-nav-bar .mobile-nav-btn.active { color: #0b5fff !important; font-weight:600 !important; }

/* Ads page: month/day toggle buttons that used bg-gray-700 */
[data-theme="light"] .bg-gray-700 { background-color: #e5e7eb !important; color: #0f1720 !important; }
[data-theme="light"] .bg-gray-700:hover { background-color: #dbe2ea !important; }


/* Sidebar: only color/border adjustments in light theme. Avoid structural/layout changes
   so desktop and grid layouts remain controlled by the original utility classes. */
[data-theme="light"] .unified-sidebar {
    background-color: #ffffff !important;
    color: #0f1720 !important;
    border-right: 1px solid #e6e9ee !important;
}

/* Make sure links, icons and tooltip contrast inside unified sidebar */
[data-theme="light"] .unified-sidebar, [data-theme="light"] .unified-sidebar * {
    color: #0f1720 !important;
}
[data-theme="light"] .unified-sidebar .sidebar-link { background: transparent !important; }
[data-theme="light"] .unified-sidebar .sidebar-link .tooltip { background-color: #ffffff !important; color: #0f1720 !important; border:1px solid #e6e9ee !important; }

/* On mobile when sidebar slides in, ensure it overlays page content cleanly */
@media (max-width: 1024px) {
    /* Keep sidebar transform managed by JS; avoid forcing position which caused mobile/desktop issues.
       Only ensure stacking order and backdrop visibility for light theme. */
    [data-theme="light"] .unified-sidebar {
        z-index: 90 !important;
    }
    /* Backdrop: keep mobile menu veil but avoid overlay on the ecommerce sidebar backdrop */
    [data-theme="light"] #mobile-menu-backdrop { background-color: rgba(15,23,42,0.18) !important; z-index: 88 !important; }
    /* Ensure ecommerce sidebar backdrop does not cast a shadow in light theme */
    [data-theme="light"] #sidebar-backdrop { background-color: transparent !important; z-index: 88 !important; }
}

/* Mobile: ensure the sidebar settings button is fixed to the viewport bottom and
   aligned with the sidebar width so it doesn't end up after the scrollable links. */
@media (max-width: 1024px) {
    [data-theme="light"] #sidebar-settings-wrapper {
        position: fixed !important;
        bottom: 1rem !important;
        left: 1rem !important;
        width: calc(16rem - 2rem) !important; /* matches the sidebar inner spacing */
        z-index: 95 !important; /* sit above the sidebar content */
        pointer-events: auto !important;
    }
}

/* Modals: overlay should be a subtle translucent shadow (not pure white) */
[data-theme="light"] .modal-backdrop {
    background-color: rgba(15,23,32,0.04) !important; /* subtle dark veil */
}
/* Modal content keep white but slightly translucent so stacked ones show as shadowed */
[data-theme="light"] .modal-backdrop .bg-bg-card {
    background-color: rgba(255,255,255,0.98) !important;
}

/* Mobile add button and submenu in light theme */
[data-theme="light"] #mobile-add-toggle-btn {
    /* keep green background but use a soft white border so it reads well on light bg */
    border-color: #ffffff !important;
    box-shadow: 0 8px 18px rgba(15,23,42,0.06) !important;
}
[data-theme="light"] #mobile-add-toggle-btn i,
[data-theme="light"] #mobile-add-toggle-btn .fa-plus {
    color: #ffffff !important; /* keep plus icon white over green */
}

[data-theme="light"] #mobile-add-sub-menu {
    background-color: #ffffff !important;
    border-color: #e6e9ee !important;
    color: #0f1720 !important;
    box-shadow: 0 10px 30px rgba(15,23,42,0.06) !important;
}
[data-theme="light"] #mobile-add-sub-menu .mobile-add-item-btn {
    color: #0f1720 !important;
    background-color: transparent !important;
}
[data-theme="light"] #mobile-add-sub-menu .mobile-add-item-btn:hover {
    background-color: #f3f4f6 !important;
}

/* Payment method buttons (Select payment method modal) --------------------------------- */
/* These buttons are generated dynamically with the class `payment-method` and have
   inline dark utility classes; override them in light theme so they read as cards. */
[data-theme="light"] .payment-method {
    background-color: #f9fafb !important; /* soft card */
    color: #0f1720 !important; /* dark text */
    border-color: #e6e9ee !important;
    box-shadow: none !important;
}

[data-theme="light"] .payment-method:hover {
    background-color: #f3f4f6 !important;
}

/* Ensure inner labels and fonts become dark */
[data-theme="light"] .payment-method .font-medium,
[data-theme="light"] .payment-method span,
[data-theme="light"] .payment-method > div { color: #0f1720 !important; }

/* Selected state: JS toggles ring classes; emulate a visible blue ring in light theme */
[data-theme="light"] .payment-method.ring-2,
[data-theme="light"] .payment-method.ring-blue-500 {
    box-shadow: 0 0 0 3px rgba(11,95,255,0.12) !important;
    border-color: rgba(11,95,255,0.12) !important;
}

/* Make any SVG elements inside the payment button render crisply on light bg */
[data-theme="light"] .payment-method svg { filter: none !important; }

/* Plan selection modal (Growth / Pro / Premium) -------------------------------------- */
/* These are the buttons inside the `openUpgradeFlow` modal with class `select-plan`. */
[data-theme="light"] .select-plan {
    background-color: #ffffff !important; /* card on light page */
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
    box-shadow: 0 6px 18px rgba(15,23,42,0.04) !important;
}

[data-theme="light"] .select-plan:hover {
    background-color: #f8fafc !important;
}

/* Make the small description (was text-white/60) dark for readability */
[data-theme="light"] .select-plan .text-white\/60,
[data-theme="light"] .select-plan p,
[data-theme="light"] .select-plan .text-sm {
    color: #475569 !important;
}

/* Disclaimers and fine print should be dark and readable */
[data-theme="light"] .text-yellow-200\/80 { color: #92400e !important; }
[data-theme="light"] .italic { color: #1f2937 !important; }

/* Keep the accent heading colors (green/amber/purple) but ensure they are vivid enough */
[data-theme="light"] .select-plan .text-green-400 { color: #10B981 !important; }
[data-theme="light"] .select-plan .text-amber-400 { color: #d97706 !important; }
[data-theme="light"] .select-plan .text-purple-400 { color: #7c3aed !important; }

/* Active / keyboard-focused state so selection is visible before modal closes */
[data-theme="light"] .select-plan:focus,
[data-theme="light"] .select-plan:active {
    outline: none !important;
    box-shadow: 0 0 0 4px rgba(11,95,255,0.10) !important;
    border-color: rgba(11,95,255,0.12) !important;
}

/* Desktop-only: restore sidebar flow for light theme without altering dark theme.
   This ensures the sidebar is visible on desktop and doesn't get translated away
   when switching themes. Kept narrowly scoped to min-width:1024px. */
@media (min-width: 1024px) {
    [data-theme="light"] .unified-sidebar {
        position: relative !important;
        transform: translateX(0) !important;
        left: 0 !important;
        top: auto !important;
        bottom: auto !important;
        width: 16rem !important; /* match w-64 */
        display: block !important;
        visibility: visible !important;
        transition: none !important; /* prevent flicker when toggling */
    }
    /* If JS mistakenly applies the .open class on desktop, avoid floating shadow */
    [data-theme="light"] .unified-sidebar.open { box-shadow: none !important; }
}

/* ─────────────────────────────────────────────────────────────────── */
/* Additional Light Theme Fixes: mobile metrics, contact btn, outputs, etc. */
/* ─────────────────────────────────────────────────────────────────── */

/* Index mobile: ensure the first 4 metrics text (labels and values) are dark/black on light background */
[data-theme="light"] .metric-card,
[data-theme="light"] #stats-container .stat-item,
[data-theme="light"] #stats-mobile .stat-card {
    background-color: #ffffff !important;
    color: #0f1720 !important;
}
[data-theme="light"] .metric-card h3,
[data-theme="light"] .stat-item .stat-label,
[data-theme="light"] .stat-card .stat-value,
[data-theme="light"] .stat-card .stat-label {
    color: #0f1720 !important;
}
[data-theme="light"] .stat-card .stat-accent {
    color: #0b5fff !important; /* keep blue accents for emphasis */
}

/* Contact details button: ensure it is visible with white text on gray */
[data-theme="light"] .details-btn,
[data-theme="light"] .btn-details,
[data-theme="light"] .contact-detail-btn {
    background-color: #6b7280 !important;
    color: #ffffff !important;
    border: none !important;
}
[data-theme="light"] .details-btn:hover,
[data-theme="light"] .btn-details:hover {
    background-color: #5a6470 !important;
    color: #ffffff !important;
}

/* Output and loading sections: keep text dark, backgrounds subtle */
[data-theme="light"] .output-container,
[data-theme="light"] .output-area,
[data-theme="light"] #output-section,
[data-theme="light"] .result-panel {
    background-color: #ffffff !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
}

[data-theme="light"] .loading-text,
[data-theme="light"] .loading-message,
[data-theme="light"] #loadingText,
[data-theme="light"] #loading-status {
    color: #0f1720 !important;
}

/* Folder cards on content creation: ensure they are light and readable */
[data-theme="light"] .folder-card-container {
    background-color: #ffffff !important;
}
[data-theme="light"] .folder-card-container:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.08) !important;
}

/* Make sure all accent buttons keep white text regardless of container */
[data-theme="light"] .btn-primary:not(.text-white),
[data-theme="light"] .btn-create:not(.text-white),
[data-theme="light"] .btn-service:not(.text-white),
[data-theme="light"] button[class*="bg-green"],
[data-theme="light"] button[class*="bg-orange"],
[data-theme="light"] button[class*="bg-blue"] {
    color: #ffffff !important;
}

/* Copywriter: ensure unselected menu items are light gray, not dark */
[data-theme="light"] .writer-menu .menu-type,
[data-theme="light"] .copywriter-option:not(.active),
[data-theme="light"] .content-option:not(.selected) {
    color: #6b7280 !important;
    background-color: #f3f4f6 !important;
}

/* Selected items should remain visible with accent color */
[data-theme="light"] .writer-menu .menu-type.active,
[data-theme="light"] .copywriter-option.active,
[data-theme="light"] .content-option.selected {
    color: #ffffff !important;
    background-color: #f97316 !important; /* orange accent */
}

/* Portal tabs and inactive states */
[data-theme="light"] .tab-btn {
    color: #6b7280 !important;
}
[data-theme="light"] .tab-btn.active {
    color: #0f1720 !important;
    border-color: #f97316 !important;
}
/* Global modal sizing & centering improvements --------------------------------------- */
.modal-backdrop {
    /* Display is controlled by the page (open/closed). Avoid forcing the
       overlay to be visible at all times which can block clicks. Keep
       alignment helpers so when the page shows the backdrop it centers
       modal content as expected. */
    align-items: center;
    justify-content: center;
    padding: 20px; /* keep some breathing room on small viewports */
}

/* Inner modal content: ensure it never overflows the viewport and becomes scrollable */
.modal-backdrop > *,
.modal-backdrop .modal,
.modal-backdrop .modal-content,
.modal-backdrop .bg-bg-card {
    max-height: calc(100vh - 80px) !important;
    overflow-y: auto !important;
    box-sizing: border-box !important;
}

/* Ensure top-aligned behavior on small screens so modal header is visible */
@media (max-width: 640px) {
    .modal-backdrop {
        align-items: flex-start;
        padding-top: 28px;
        padding-bottom: 28px;
    }
    .modal-backdrop > *,
    .modal-backdrop .modal-content,
    .modal-backdrop .bg-bg-card {
        max-height: calc(100vh - 56px) !important;
    }
}

/* If a modal wants to be vertically centered but its content is short, keep it visually centered */
.modal-centered {
    display: flex;
    align-items: center;
    justify-content: center;
}

/* -----------------------------
   Qualifier page (light theme)
   - Convert dark containers to light cards
   - Ensure templates/results containers scroll
   - Make active meeting header more lively and saturate colors
   ----------------------------- */

[data-theme="light"] #view-templates .bg-\[\#1a1d23\],
[data-theme="light"] #view-results .bg-\[\#1a1d23\],
[data-theme="light"] #view-meeting .bg-\[\#1a1d23\],
[data-theme="light"] .bg-\[\#1a1d23\] {
    background-color: #ffffff !important;
    color: #0f1720 !important;
    border-color: #e6e9ee !important;
    box-shadow: 0 6px 18px rgba(15,23,42,0.04) !important;
}

/* Ensure table containers in templates & results can scroll on small viewports */
[data-theme="light"] #view-templates > div,
[data-theme="light"] #view-results > div {
    max-height: calc(70vh);
    overflow-y: auto !important;
}

/* Make the inner table body readable on light theme */
[data-theme="light"] #templates-table-body,
[data-theme="light"] #results-table-body {
    color: #0f1720 !important;
}

/* Force overflow for meeting view containers so questions/notes scroll properly on both themes */
#view-results > div, #view-templates > div, #meeting-live .h-full.w-full.relative, #meeting-live .p-8 {
    overflow-y: auto;
}

/* Active meeting header: lift the grey and add subtle shadow and saturation */
[data-theme="light"] #meeting-live .flex.justify-between.items-center.mb-6 {
    background-color: #f3f4f6 !important;
    border-color: #e6e9ee !important;
    color: #0f1720 !important;
    box-shadow: 0 6px 18px rgba(15,23,42,0.05) !important;
}

/* Badge and progress saturation */
[data-theme="light"] #q-category {
    background-color: rgba(124,58,237,0.08) !important;
    color: #7c3aed !important;
    border-color: rgba(124,58,237,0.12) !important;
}
[data-theme="light"] #progress-bar { background-color: #f97316 !important; box-shadow: 0 8px 20px rgba(249,115,22,0.08) !important; }

/* Ideal answer box - stronger blue on light */
[data-theme="light"] .bg-blue-500\/10 { background-color: rgba(59,130,246,0.08) !important; }
[data-theme="light"] .text-blue-200 { color: #1e40af !important; }

/* Make action buttons and toggles more saturated in meeting view */
[data-theme="light"] #meeting-live .btn-primary { background-color: #f97316 !important; color: #ffffff !important; }
[data-theme="light"] #meeting-live .btn-secondary, [data-theme="light"] #meeting-live .btn-complete { background-color: #10b981 !important; color: #ffffff !important; }

/* Status dot (LIVE) - keep red vivid on light */
[data-theme="light"] #meeting-live .bg-red-500 { background-color: #ef4444 !important; }


/* Slightly reduce the maximum width on very small viewports so content doesn't feel cramped */
@media (max-width: 420px) {
    .modal-backdrop > * { width: calc(100% - 32px) !important; }
}

    /* Bottom-sheet style for small-screen modals (slide from bottom) -------------------- */
    .modal-backdrop.modal-bottom {
        align-items: flex-end; /* align content at bottom for slide-in */
        padding: 0 12px 12px 12px;
    }
    .modal-backdrop.modal-bottom .modal-bottom-content {
        width: 100%;
        max-width: 720px;
        transform: translateY(100%);
        transition: transform .28s ease;
        box-shadow: 0 -10px 30px rgba(2,6,23,0.6);
    }
    .modal-backdrop.modal-bottom.open .modal-bottom-content {
        transform: translateY(0);
    }
    @media (min-width: 640px) {
        /* On larger screens, keep bottom modal visually centered instead of bottom sheet */
        .modal-backdrop.modal-bottom { align-items: center; padding: 20px; }
        .modal-backdrop.modal-bottom .modal-bottom-content { transform: translateY(0); }
    }

/* Desktop: ensure dashboard area and sidebar are visible for light theme pages
   (covers pages that hide dashboard until login). This is narrowly scoped to
   desktop and light theme only and uses !important to override inline styles. */
@media (min-width: 1024px) {
    /* Only show dashboard if logged in. This fixes the ghost overlay on the login page. */
html[data-theme="light"][data-logged-in="1"] #dashboard-container { display: flex !important; }
    html[data-theme="light"] .unified-sidebar { position: relative !important; transform: none !important; left: 0 !important; display: block !important; visibility: visible !important; width: 16rem !important; }
        /* If utility classes left a -translate-x-full class, neutralize it on desktop light */
        html[data-theme="light"] .unified-sidebar.-translate-x-full { transform: none !important; }
}



